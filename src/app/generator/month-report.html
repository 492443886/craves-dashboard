

<form [formGroup]="generatorForm" novalidate>
  <div layout="row" class="pad-left-sm pad-bottom-sm">
    <mat-form-field flex>
      <mat-select  placeholder="Choose user" formControlName="userid">
        <mat-option *ngFor="let user of users" [value]="user">{{user.userName}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div *ngIf="selectedUser" class="row">
    <br/>
    <table style="top:-30px;position:relative;">
      <tr>
        <th colspan="1" class="pad-xs text-center md-subhead" style="font-weight:bold;">
          {{'PO: ' + selectedUser.userName }}
        </th>
        <th colspan="3" class="pad-xs text-center md-subhead" style="font-weight:bold;">
          {{"Join Date: " + (selectedUser.joinedDate | date:'yyyy-MM-dd')}}
        </th>
      </tr>
      <tr td-data-table-row style="font-weight:bold;">
        <td style="text-align: center;width:35%;">restaurant</td>
        <td style="text-align: center;width:40%;">Data</td>
        <td style="text-align: center;width:15%;">tip</td>
        <td style="text-align: right;width:10%;">subtotal</td>
      </tr>
      <tr td-data-table-row *ngFor="let item of orders">
        <td class="text-center">{{item.restaurantName }}</td>
        <td width="700" class="text-center">{{item.createdTime | date:'yyyy-MM-dd '}}</td>
        <td class="text-center">{{item.tip | currency:'USD':'symbol':'1.2-2'}}</td>
        <td class="text-right">{{item.subtotal | currency:'USD':'symbol':'1.2-2'}}</td>
      </tr>
      <tr>
        <td class="text-center"></td>
        <td colspan="2" class="text-center">Sub:</td>
        <td class="text-right" style="font-weight: 600;color:#673AB7;">{{total | currency:'USD':'symbol':'1.2-2'}}</td>
      </tr>
      <tr>
        <td class="text-center"></td>
        <td colspan="2" class="text-center">Tax:</td>
        <td class="text-right" style="font-weight: 600;color:#673AB7;">{{total * 0.13 | currency:'USD':'symbol':'1.2-2'}}</td>
      </tr>
      <tr>
        <td class="text-center"></td>
        <td colspan="2" class="text-center">Total:</td>
        <td class="text-right" style="font-weight: 600;color:#673AB7;">{{total * 1.13 | currency:'USD':'symbol':'1.2-2'}}</td>
      </tr>
      <tr>
        <td class="text-center"></td>
        <td colspan="2" class="text-center">Creadit:</td>
        <td class="text-right" style="font-weight: 600;color:#673AB7;">{{selectedUser.credit}}</td>
      </tr>
    </table>
  </div>

</form>
